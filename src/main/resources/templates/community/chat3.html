<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="index2 :: navi">
</head>
<link th:href="@{/css/community/chat.css}" rel="stylesheet" type="text/css"/>
<body id="page-top">
	<!-- Page Wrapper -->
	<div id="wrapper">
		<!-- Sidebar -->
		<ul th:replace="index2 :: sideBar"></ul>
		<!-- End of Sidebar -->
		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">
			<!-- Main Content -->
			<div id="content">
				<!-- Topbar -->
				<div  th:with="title='커뮤니티'">
					<nav th:replace="index2 :: topBar"></nav>
				</div>
				<!-- End of Topbar -->
				<!-- Begin Page Content -->
				<div class="container-fluid">
					<!-- Page Heading -->
					
					<!-- Content Row -->
					<div class="row">
						<div class="tabs-container">
						       <ul class="nav nav-tabs" role="tablist">
						         <li><a class="nav-link active" data-toggle="tab" href="#tab-1">그룹채팅</a></li>
						         <li><a class="nav-link" data-toggle="tab" href="#tab-2">DM</a></li>
						       </ul>
						    <div class="tab-content">   
						    	<!-- Tab 1 Content -->
						        <div role="tabpanel" id="tab-1" class="tab-pane active">
						        	<div class="panel-body">
						            	<div class="card shadow mb-4">
						            		<input type="button" value="그룹추가" class="btn btn-primary btn-addChat" 
						            		 data-toggle="modal" data-target="#addGroupModal" id="addGroup">
						                	<div class = "card-body" id="groupChat-body">
								             	<a href="#" class="chat-groups">그룹명1그룹명1그룹명1그룹명1그룹명1그룹명1v</a>
								             	<a href="#" class="chat-groups">그룹명1</a>
						                 	</div>
						                 </div>
						             </div>
						         </div>
				            	<!-- End of Tab 1 Content -->       
				                <!-- Tab 2 Content -->
						        <div role="tabpanel" id="tab-2" class="tab-pane">
						        	<div class="panel-body">
						                <div class="card shadow mb-4">
						                	<input type="button" value="대화추가" class="btn btn-primary btn-addChat" 
						                	data-toggle="modal" data-target="#addDMModal" id="addDM">
						                    <div class = "card-body" id="DMChat-body">
								                <a href="#" class="chat-groups">대화상대1</a>
								                <a href="#" class="chat-groups">대화상대1</a>
						                 	</div>
						                 </div>
						             </div>
						        </div>
				            	<!-- End of Tab 2 Content -->
							</div>
                    	</div>
						<div class="col-xl-8 col-lg-7">
							<div class="card shadow mb-4">
								<!-- Card Header - Dropdown -->
								<div
									class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
									<h6 class="m-0 font-weight-bold text-primary">그룹명</h6>
									<div class="dropdown no-arrow">
										<a class="dropdown-toggle" href="#" role="button"
											id="dropdownMenuLink" data-toggle="dropdown"
											aria-haspopup="true" aria-expanded="false"> <i
											class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
										</a>
										<div
											class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
											aria-labelledby="dropdownMenuLink">
											<button type="button" class="dropdown-item" 
											data-toggle="modal" data-target="#memChkModal">그룹정보</button>
											<button type="button" class="dropdown-item" 
											data-toggle="modal" data-target="#addMemberModal">멤버 추가</button> 
											<button type="button" class="dropdown-item" 
											data-toggle="modal" data-target="#modifyGroupModal">그룹명 변경</button>
											<div class="dropdown-divider"></div>
											<a class="dropdown-item chatOut" href="#">그룹 나가기</a>
										</div>
									</div>
								</div>
								<!-- Card Body -->
								<div class="chat-area-w">
									<div class="chat-area">
										<div class="chat-indiv">
											<img th:src="@{/img/undraw_profile_1.svg}" id="chat-ij-profile"/>
											<div id="chat-ij-content">
												<div class="chat-ij-info">
													<h5 id="chat-ij-name"><span>홍길동(부서)</span></h5>
													<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												</div>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div><div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
										<div class="chat-indiv chat-me">
											<div id="chat-ij-content">
												<h5 id="chat-ij-date"><span>2021-01-01 18:00</span></h5>
												<h5 id="chat-ij-text"><span>안녕 이거 내용이다 내용이야!</span></h5>
											</div>
										</div>
									</div>
									<div class="chatSending">
										<textarea  placeholder="메시지를 입력하세요" class="messageInput"></textarea>
										<input class="sendBtn" type="submit" value="전송" onclick="메시지함수"/>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- End of Main Content -->
			<!-- Footer -->
			<footer th:replace="index2 :: footer"> </footer>
			<!-- End of Footer -->
		</div>
		<!-- End of Content Wrapper -->
	</div>
	 <!-- addGroup Modal-->
    <div class="modal fade" id="addGroupModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">그룹추가</h5>
                	<a class="btn btn-primary" href="#" id="confirm">확인</a>
                	<button class="btn btn-secondary" type="button" 
                	data-dismiss="modal">취소</button>
                </div>
                <form>
                <div class="modal-search">
	                <select class="schOption" onchange="schOption(this)">
	                	<option value="emp_name" selected>이름</option>
	                	<option value="dept_name">부서</option>
	                </select>
	                <input type="text" name="emp_name" class="searchTab" placeholder="검색">
                </div>
                <div class="modal-body" th:each="emp : ${empList}">
                	<img th:src="@{/img/undraw_profile_1.svg}" id="chat-ij-profile"/> 
                	<span class="user-name" th:text="|${emp.emp_name}(${emp.dept_name})|"> 
                	사용자1(부서)</span>
                	<input type="checkbox" value="${emp.emp_cd_pk}" id="user-select"> 
                </div>
                </form>
            </div>
        </div>
    </div>
    <!-- addDM Modal-->
    <div class="modal fade" id="addDMModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">대화추가</h5>
                	<a class="btn btn-primary" href="#" id="confirm">확인</a>
                	<button class="btn btn-secondary" type="button" data-dismiss="modal">취소</button>
                </div>
                <div class="modal-search">
	                <select class="schOption" onchange="schOption(this)">
	                	<option value="emp_name" selected>이름</option>
	                	<option value="dept_name">부서</option>
	                </select>
	                <input type="text" name="emp_name" class="searchTab" placeholder="검색">
                </div>
                <div class="modal-body" th:each="emp : ${empList}">
                	<img th:src="@{/img/undraw_profile_1.svg}" id="chat-ij-profile"/>
                	<span class="user-name" th:text="|${emp.emp_name}(${emp.dept_name})|"> 사용자1</span>
                	<input type="radio" name="emp_cd_pk" value="${emp.emp_cd_pk}" id="user-select">
                </div>
            </div>
        </div>
    </div>
	<!-- memChk Modal-->
    <div class="modal fade" id="memChkModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">그룹멤버</h5>
                	<a class="btn btn-primary" href="#" id="confirm">확인</a>
                	<button class="btn btn-secondary" type="button" data-dismiss="modal">닫기</button>
                </div>
                <div class="modal-body">
                	<input type="text" class="searchTab" id="modifiedGroupName" placeholder="그룹명 입력">
                </div>
            </div>
        </div>
    </div>
     <!-- addMember Modal-->
    <div class="modal fade" id="addMemberModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">멤버추가</h5>
                	<a class="btn btn-primary" href="#" id="confirm">확인</a>
                	<button class="btn btn-secondary" type="button" data-dismiss="modal">취소</button>
                </div>
                <div class="modal-search">
	                <select class="schOption" onchange="schOption(this)">
	                	<option value="emp_name" selected>이름</option>
	                	<option value="dept_name">부서</option>
	                </select>
	                <input type="text" name="emp_name" class="searchTab" placeholder="검색">
                </div>
                <div class="modal-body" th:each="emp : ${empList}">
                	<img th:src="@{/img/undraw_profile_1.svg}" id="chat-ij-profile"/> 
                	<span class="user-name" th:text="|${emp.emp_name}(${emp.dept_name})|"> 사용자1(부서)</span>
                	<input type="checkbox" value="${emp.emp_cd_pk}" id="user-select"> 
                </div>
            </div>
        </div>
    </div>
    <!-- modifyGroup Modal-->
    <div class="modal fade" id="modifyGroupModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">그룹명 변경</h5>
                	<a class="btn btn-primary" href="#" id="confirm">확인</a>
                	<button class="btn btn-secondary" type="button" data-dismiss="modal">취소</button>
                </div>
                <div class="modal-body">
                	<input type="text" class="searchTab" id="modifiedGroupName" placeholder="그룹명 입력">
                </div>
            </div>
        </div>
    </div>
	<!-- End of Page Wrapper -->
	<div th:replace="index2 :: etc"></div>
	<!-- 
	 <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
     -->
</body>
<script type="text/javascript">
	function schOption(e){
		var val = document.querySelector(".searchTab");
		val.setAttribute("name",e.value);
	}
</script>
</html>